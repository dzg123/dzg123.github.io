<!DOCTYPE html>
<html lang="zh">
<head>
    <meta name="generator" content="Hugo 0.51">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="wap-font-scale" content="no">
    <meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34">
    <meta name="sogou_site_verification" content="E8uWFBcf4a">
    <meta name="author" content="Fan">
    <meta name="description" itemprop="description" content="编写一个函数来查找字符串数组中的最长公共前缀。
如果不存在公共前缀，返回空字符串 &amp;ldquo;&amp;ldquo;。
示例 1: 输入: [&amp;quot;flower&amp;quot;,&amp;quot;flow&amp;quot;,&amp;quot;flight&amp;quot;] 输出: &amp;quot;fl&amp;quot;  示例 2: 输入: [&amp;quot;dog&amp;quot;,&amp;quot;racecar&amp;quot;,&amp;quot;car">
    <meta name="keywords" content="Leetcode">
    <meta property="og:locale" content="en_US">
    <meta property="og:title" content="LintCode 最长公共前缀">
    <meta property="og:image" content="https://alili.tech/images/logo2.png">
    <meta property="og:description" content="编写一个函数来查找字符串数组中的最长公共前缀。
如果不存在公共前缀，返回空字符串 &amp;ldquo;&amp;ldquo;。
示例 1: 输入: [&amp;quot;flower&amp;quot;,&amp;quot;flow&amp;quot;,&amp;quot;flight&amp;quot;] 输出: &amp;quot;fl&amp;quot;  示例 2: 输入: [&amp;quot;dog&amp;quot;,&amp;quot;racecar&amp;quot;,&amp;quot;car">
    <meta property="og:site_name" content="Alili">
    <title>LintCode 最长公共前缀 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title>
    <link rel="shortcut icon" href="https://alili.tech/images/favicon.ico">
    <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <script src="/lib/highlight.min.js">
    </script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://alili.tech/lib/jquery/jquery.min.js"></script>
    <script>
        document.addEventListener("error", function (e) {
            var elem = e.target;
            if (elem.tagName.toLowerCase() == 'img') {
                elem.style.display = 'none'
            }
        }, true);
    </script>
</head>
<body>
<div id="header-post">
    <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
    <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#"
                                                                              onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"
                                                                              style="display:none;"><i
        class="fa fa-chevron-up fa-lg"></i></a> <span
        id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a
        href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527"
                                            target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a
        class="icon" href="https://alili.tech/archive/ecriucnvxvo/"><i class="fa fa-chevron-left" aria-hidden="true"
                                                                       onmouseover='$("#i-prev").toggle();'
                                                                       onmouseout='$("#i-prev").toggle();'></i></a></li><li><a
        class="icon" href="https://alili.tech/archive/71qzg0zrtcc/"><i class="fa fa-chevron-right" aria-hidden="true"
                                                                       onmouseover='$("#i-next").toggle();'
                                                                       onmouseout='$("#i-next").toggle();'></i></a></li><li><a
        class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up"
                                                                                              aria-hidden="true"
                                                                                              onmouseover='$("#i-top").toggle();'
                                                                                              onmouseout='$("#i-top").toggle();'></i></a></li><li><a
        class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();'
                                 onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span
        id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info"
                                                                                  style="display:none;">Next post</span> <span
        id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info"
                                                                               style="display:none;">Share post</span></span><br><div
        id="share" style="display: none">
</div><div id="toc"><nav id="TableOfContents">
    <ul>
        <li>
            <ul>
                <li><a href="#示例-1">示例 1:</a>
                </li>
                <li><a href="#示例-2">示例 2:</a>
                </li>
            </ul>
        </li>
        <li>
            <a href="#javascript">Javascript</a>
        </li>
    </ul>
</nav>
</div>
</span>
</div>
<div class="content index width mx-auto px3 my3">
    <section id="wrapper" class="home">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
            <header><h1 class="posttitle" itemprop="name headline">SpringMVC开发RESTful API</h1>
                <div class="meta">
                    <div class="postdate">
                        <time datetime="2018-10-20" itemprop="datePublished">2018-10-20</time>
                    </div>
                    <div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span
                            id="busuanzi_value_page_pv">0</span></span></div>
                    <div class="article-tag"><i class="fa fa-tag"></i> <a href="/tags/spring">spring</a></div>
                    <div class="article-tag-box"></div>
                </div>
            </header>
            <div class="post">
                <!--<h1>First</h1>-->
                <!--<time datetime="2018-10-20T17:05:36+0800" class="post-date">Thu, Feb 14, 2019</time>-->


                <!--<h2 id="restful-api">RESTful API</h2>-->

                <hr>

                <ul>
                    <li>用URL描述资源</li>
                    <li>用http方法描述行为，使用http状态码来表示不同的结果。</li>
                    <li>使用json来交互数据</li>

                    <li><p>RESTful只是一种风格，并不是强制的标准。</p>

                        <h2 id="rest成熟模型">REST成熟模型</h2>

                        <hr></li>

                    <li><p>Level 0:The Swamp of POX</p>

                        <ul>
                            <li>使用http作为传输方式</li>
                        </ul></li>

                    <li><p>Level 1：Resources</p>

                        <ul>
                            <li>引入资源概念。每个资源都有对应的URL</li>
                        </ul></li>

                    <li><p>Level 2：HTTP Verbs</p>

                        <ul>
                            <li>使用http方法进行不同的操作。使用http状态码表示不同的结果</li>
                        </ul></li>

                    <li><p>Level 3：Hypermedia Controls</p>

                        <ul>
                            <li><p>使用超媒体。在资源的表达中包含了链接信息。</p>

                                <h2 id="常用注解">常用注解</h2>

                                <hr></li>
                        </ul></li>

                    <li><p>@RestController</p>

                        <ul>
                            <li>标明此Controller提供RestAPI</li>
                        </ul></li>

                    <li><p>@RequestMapping及其变体</p>

                        <ul>
                            <li>映射http请求url到java方法</li>
                        </ul></li>

                    <li><p>@RequestParam</p>

                        <ul>
                            <li>映射请求参数到java方法的参数
                                <code>
                                    @GetMapping("/user/login")
                                    public ResultDto&lt;Object&gt; login(@RequestParam String username,@RequestParam String password){
                                    ......
                                    return ResultDto.success();
                                    }
                                </code></li>
                        </ul></li>

                    <li><p>@PageabelDefault</p>

                        <ul>
                            <li>指定分页参数默认值（size,page,sort）
                                <code>
                                    @RequestMapping(value = "/user", method = RequestMethod.GET)
                                    public List&lt;User&gt; query(UserQueryCondition condition, @PageableDefault(page = 0,size = 15,sort = "age,asc") Pageable pageable) {
                                    log.info(ReflectionToStringBuilder.toString(condition, ToStringStyle.MULTI_LINE_STYLE));
                                    log.info(ReflectionToStringBuilder.toString(pageable, ToStringStyle.MULTI_LINE_STYLE));
                                    ArrayList&lt;User&gt; list = Lists.newArrayList();
                                    list.add(new User());
                                    list.add(new User());
                                    list.add(new User());
                                    return list;
                                    }
                                </code></li>
                        </ul></li>

                    <li><p>@PathVariable</p>

                        <ul>
                            <li>映射url片段到java方法的参数</li>
                        </ul></li>

                    <li><p>在url声明中使用正则表达式，剔除不规范请求</p>

                        <pre><code>@GetMapping(value = "/user/{id:\\d+}")
public User getInfo(@PathVariable("id") String id){
    User user = new User();
    user.setUsername("dzg");
    return user;
}
</code></pre></li>

                    <li><p>@JsonView控制json输出内容</p>

                        <ul>
                            <li><p>@JsonView使用步骤</p>

                                <ol>
                                    <li>使用接口来声明多个视图
                                        <code>
                                            @Data
                                            public class User  {
                                            public interface UserSimpleView {};
                                            public interface UserDetailView extends UserSimpleView {};
                                            @JsonView(UserSimpleView.class)
                                            private String username;
                                            @JsonView(UserDetailView.class)
                                            private String password;
                                            }
                                        </code>

                                        <ol>
                                            <li>在值对象的get方法上指定视图</li>
                                        </ol></li>

                                    <li><p>在Controller方法上指定视图</p>

                                        <pre><code>@GetMapping(value = "/user")
@JsonView(User.UserSimpleView.class)
public List&lt;User&gt; query(UserQueryCondition condition, @PageableDefault(page = 0,size = 15,sort = "age,asc") Pageable pageable) {
       ......
    return list;
}
@GetMapping(value = "/user/{id:\\d+}")
@JsonView(User.UserDetailView.class)
public User getInfo(@PathVariable("id") String id){
User user = new User();
user.setUsername("dzg");
return user;
}
</code></pre>

                                        <hr>

                                        <h3 id="处理创建请求">处理创建请求</h3></li>
                                </ol></li>
                        </ul></li>

                    <li><p>@RequestBody映射请求体到java方法的参数</p>

                        <ul>
                            <li>@requestBody注解常用来处理content-type不是默认的application/x-www-form-urlcoded编码的内容，比如：application/json或application/xml等。一般情况下来说常用其来处理application/json类型。</li>
                            <li>通过@requestBody可以将请求体中的JSON字符串绑定到相应的bean上，当然，也可以将其分别绑定到对应的字符串上。
                                ```
                                @Test
                                public void whenCreateSuccess(){
                                try {
                                String content = “{\“username\”:\“dzg\“,\“password\”:\“123\“}”;
                                mockMvc.perform(MockMvcRequestBuilders.post(“/user”).contentType(MediaType.APPLICATION_JSON_UTF8)
                                .content(content))
                                .andExpect(MockMvcResultMatchers.status().isOk())
                                .andExpect(MockMvcResultMatchers.jsonPath(“$.id”).value(“1”));
                                } catch (Exception e) {
                                e.printStackTrace();
                                }
                                }
                                @PostMapping
                                public User create(@RequestBody User user){
                                log.info(ReflectionToStringBuilder.toString(user, ToStringStyle.MULTI_LINE_STYLE));
                                user.setId(1);
                                return user;</li>
                        </ul>

                        <p>}
                            ```
                            - 3、在一些特殊情况，@requestBody也可以用来处理content-type类型为application/x-www-form-urlcoded的内容，只不过这种方式不是很常用，在处理这类请求的时候，@requestBody会将处理结果放到一个MultiValueMap<string,string>中，这种情况一般在特殊情况下才会使用。</string,string></p></li>

                    <li><p>日期类型参数的处理</p></li>

                    <li><p>@Valid注解和BindResult验证请求参数的合法性并处理校验结果</p>

                        <pre><code>@NotBlank
private String password;
@PostMapping
public User create(@Valid @RequestBody User user, BindingResult errors) {
    if (errors.hasErrors()) {
        errors.getAllErrors().stream().forEach(error -&gt; log.info(error.getDefaultMessage()));
    }
    log.info(ReflectionToStringBuilder.toString(user, ToStringStyle.MULTI_LINE_STYLE));
    user.setId(1);
    return user;
}
</code></pre>

                        <h2 id="常用的注解校验">常用的注解校验</h2>

                        <p><img src="https://upload-images.jianshu.io/upload_images/14796878-c3d2121adbf056d1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p></li>
                </ul>

                <p><img src="https://upload-images.jianshu.io/upload_images/14796878-35a13b446c3989d5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>

            </div>
            <!--<div class="content" itemprop="articleBody"><p>编写一个函数来查找字符串数组中的最长公共前缀。</p>-->
                <!--<p>如果不存在公共前缀，返回空字符串 &ldquo;&ldquo;。</p>-->
                <!--<h2 id="示例-1">示例 1:</h2>-->
                <!--<pre><code class="language-text">输入: [&quot;flower&quot;,&quot;flow&quot;,&quot;flight&quot;]-->
<!--输出: &quot;fl&quot;-->
<!--</code></pre>-->
                <!--<h2 id="示例-2">示例 2:</h2>-->
                <!--<pre><code class="language-text">输入: [&quot;dog&quot;,&quot;racecar&quot;,&quot;car&quot;]-->
<!--输出: &quot;&quot;-->
<!--解释: 输入不存在公共前缀。-->
<!--</code></pre>-->
                <!--<p>说明:</p>-->
                <!--<p>所有输入只包含小写字母 a-z 。</p>-->
                <!--<h1 id="javascript">Javascript</h1>-->
                <!--<pre><code class="language-js">/**-->
 <!--* @param {string[]} strs-->
 <!--* @return {string}-->
 <!--*/-->
<!--var longestCommonPrefix = function(strs) {-->
    <!--if(strs.length === 0)return &quot;&quot;-->
    <!--let current  = &quot;&quot;-->
    <!--let prefix = &quot;&quot;-->
    <!--let index = 0;-->
    <!--let isTrue = true;-->
    <!--while (strs[0][index]) {     //以第一个单词为基准-->
        <!--current = strs[0][index]; // 以第一个单词为基准-->
        <!--for(let i = 0; i &lt; strs.length; i++){-->
            <!--if((strs[i] || &quot;&quot;)[index] !== current){-->
                <!--isTrue = false;-->
                <!--break-->
            <!--}-->

        <!--}-->
        <!--if(isTrue){-->
            <!--index ++;-->
            <!--prefix = prefix + current;-->
         <!--}else{-->
             <!--break-->
         <!--}-->
    <!--}-->
    <!--return prefix-->
<!--};-->
<!--</code></pre>-->
            <!--</div>-->
        </article>
        <script src="/js/av-min.js"></script>
        <script src="/js/Valine.min.js"></script>
        <div class="blog-post-comments"></div>
        <script>new Valine({
            el: '.blog-post-comments',
            app_id: '4pa6G5f3p9sLCmmqRgPTN8Qg-gzGzoHsz',
            app_key: 'xlVmYRcq8N3Feir3eh5SXUuu',
            placeholder: '说点什么?',
            avatar: 'robohash',
            notify: true,
            verify: true
        });</script>
    </section>
</div>
<footer id="footer">
    <div class="footer-left">Email © shzzjut@163.com
    </div>
    <div class="footer-right">
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/blog/">Archives</a></li>
                <li><a href="/about/">About</a></li>
                <li><a href="http://github.com/dzg123" target="_blank">Github</a></li>
            </ul>
        </nav>
    </div>
</footer>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/lib/typed.js"></script>
<script src="/js/main.js"></script>
<script async src=""></script>
<script>(function () {
    var ga = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(ga, s);
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'UA-129382678-1');
})()</script>
<script>(function () {
    if (location.host !== 'alili.tech') return;
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();</script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js?t=1540207086409')
            .then(function () {
                console.log('ServiceWorker Register Successfully.')
            })
            .catch(function (e) {
                console.error(e)
            });
    }
    }</script>
</body>
</html>